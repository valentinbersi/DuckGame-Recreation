<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="565px" preserveAspectRatio="none" style="width:770px;height:565px;background:#FFFFFF;" version="1.1" viewBox="0 0 770 565" width="770px" zoomAndPan="magnify"><defs/><g><!--class Server--><g id="elem_Server"><rect codeLine="1" fill="#F1F1F1" height="48" id="Server" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.9102" x="240.29" y="7"/><ellipse cx="255.29" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M258.2587,28.6406 Q257.6806,28.9375 257.04,29.0781 Q256.3994,29.2344 255.6963,29.2344 Q253.1963,29.2344 251.8681,27.5938 Q250.5556,25.9375 250.5556,22.8125 Q250.5556,19.6875 251.8681,18.0313 Q253.1963,16.375 255.6963,16.375 Q256.3994,16.375 257.04,16.5313 Q257.6962,16.6875 258.2587,16.9844 L258.2587,19.7031 Q257.6337,19.125 257.04,18.8594 Q256.4462,18.5781 255.8213,18.5781 Q254.4775,18.5781 253.79,19.6563 Q253.1025,20.7188 253.1025,22.8125 Q253.1025,24.9063 253.79,25.9844 Q254.4775,27.0469 255.8213,27.0469 Q256.4462,27.0469 257.04,26.7813 Q257.6337,26.5 258.2587,25.9219 L258.2587,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.9102" x="269.29" y="27.8467">Server</text><line style="stroke:#181818;stroke-width:0.5;" x1="241.29" x2="317.2002" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="241.29" x2="317.2002" y1="47" y2="47"/></g><!--class GameMap--><g id="elem_GameMap"><rect codeLine="4" fill="#F1F1F1" height="113.1875" id="GameMap" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="268.4912" x="7" y="123.15"/><ellipse cx="101.3838" cy="139.15" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M104.3525,144.7906 Q103.7744,145.0875 103.1338,145.2281 Q102.4932,145.3844 101.79,145.3844 Q99.29,145.3844 97.9619,143.7437 Q96.6494,142.0875 96.6494,138.9625 Q96.6494,135.8375 97.9619,134.1812 Q99.29,132.525 101.79,132.525 Q102.4932,132.525 103.1338,132.6812 Q103.79,132.8375 104.3525,133.1344 L104.3525,135.8531 Q103.7275,135.275 103.1338,135.0094 Q102.54,134.7281 101.915,134.7281 Q100.5713,134.7281 99.8838,135.8062 Q99.1963,136.8687 99.1963,138.9625 Q99.1963,141.0562 99.8838,142.1344 Q100.5713,143.1969 101.915,143.1969 Q102.54,143.1969 103.1338,142.9312 Q103.7275,142.65 104.3525,142.0719 L104.3525,144.7906 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71.2236" x="121.8838" y="143.9967">GameMap</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="274.4912" y1="155.15" y2="155.15"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="15" y="165.7984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242.4912" x="27" y="172.1451">map&lt;int, GameLoop&gt; gameLoops</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="274.4912" y1="179.4469" y2="179.4469"/><ellipse cx="18" cy="193.0953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.3887" x="27" y="196.442">JoinSafe()</text><ellipse cx="18" cy="209.3922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.1318" x="27" y="212.7389">StartSafe()</text><ellipse cx="18" cy="225.6891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.7578" x="27" y="229.0357">CreateSafe()</text></g><!--class Acceptor--><g id="elem_Acceptor"><rect codeLine="11" fill="#F1F1F1" height="129.4844" id="Acceptor" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="216.4766" x="310.01" y="115"/><ellipse cx="382.8572" cy="131" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M385.8259,136.6406 Q385.2478,136.9375 384.6072,137.0781 Q383.9665,137.2344 383.2634,137.2344 Q380.7634,137.2344 379.4353,135.5938 Q378.1228,133.9375 378.1228,130.8125 Q378.1228,127.6875 379.4353,126.0313 Q380.7634,124.375 383.2634,124.375 Q383.9665,124.375 384.6072,124.5313 Q385.2634,124.6875 385.8259,124.9844 L385.8259,127.7031 Q385.2009,127.125 384.6072,126.8594 Q384.0134,126.5781 383.3884,126.5781 Q382.0447,126.5781 381.3572,127.6563 Q380.6697,128.7188 380.6697,130.8125 Q380.6697,132.9063 381.3572,133.9844 Q382.0447,135.0469 383.3884,135.0469 Q384.0134,135.0469 384.6072,134.7813 Q385.2009,134.5 385.8259,133.9219 L385.8259,136.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2822" x="403.3572" y="135.8467">Acceptor</text><line style="stroke:#181818;stroke-width:0.5;" x1="311.01" x2="525.4866" y1="147" y2="147"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="318.01" y="157.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.8525" x="330.01" y="163.9951">GameMap&amp; gameMap</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="318.01" y="173.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.3271" x="330.01" y="180.292">list&lt;VClient&gt; clients</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="318.01" y="190.2422"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.4766" x="330.01" y="196.5889">ListenerSocket mainSocket</text><line style="stroke:#181818;stroke-width:0.5;" x1="311.01" x2="525.4866" y1="203.8906" y2="203.8906"/><ellipse cx="321.01" cy="217.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.4258" x="330.01" y="220.8857">run()</text><ellipse cx="321.01" cy="233.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.5898" x="330.01" y="237.1826">ReapDead()</text></g><!--class GameLoop--><g id="elem_GameLoop"><rect codeLine="21" fill="#F1F1F1" height="96.8906" id="GameLoop" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="261.0059" x="10.74" y="304.49"/><ellipse cx="99.2449" cy="320.49" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M102.2136,326.1306 Q101.6355,326.4275 100.9949,326.5681 Q100.3543,326.7244 99.6511,326.7244 Q97.1511,326.7244 95.823,325.0838 Q94.5105,323.4275 94.5105,320.3025 Q94.5105,317.1775 95.823,315.5213 Q97.1511,313.865 99.6511,313.865 Q100.3543,313.865 100.9949,314.0213 Q101.6511,314.1775 102.2136,314.4744 L102.2136,317.1931 Q101.5886,316.615 100.9949,316.3494 Q100.4011,316.0681 99.7761,316.0681 Q98.4324,316.0681 97.7449,317.1463 Q97.0574,318.2088 97.0574,320.3025 Q97.0574,322.3963 97.7449,323.4744 Q98.4324,324.5369 99.7761,324.5369 Q100.4011,324.5369 100.9949,324.2713 Q101.5886,323.99 102.2136,323.4119 L102.2136,326.1306 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.4961" x="119.7449" y="325.3367">GameLoop</text><line style="stroke:#181818;stroke-width:0.5;" x1="11.74" x2="270.7459" y1="336.49" y2="336.49"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="18.74" y="347.1384"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="235.0059" x="30.74" y="353.4851">map&lt;id, Queue*&gt; senderQueues</text><line style="stroke:#181818;stroke-width:0.5;" x1="11.74" x2="270.7459" y1="360.7869" y2="360.7869"/><ellipse cx="21.74" cy="374.4353" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.4258" x="30.74" y="377.782">run()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="18.74" y="387.7322"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.6572" x="30.74" y="394.0789">broadcast()</text></g><!--class GameController--><g id="elem_GameController"><rect codeLine="27" fill="#F1F1F1" height="48" id="GameController" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142.8516" x="69.82" y="485.82"/><ellipse cx="84.82" cy="501.82" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M87.7888,507.4606 Q87.2106,507.7575 86.57,507.8981 Q85.9294,508.0544 85.2263,508.0544 Q82.7263,508.0544 81.3981,506.4138 Q80.0856,504.7575 80.0856,501.6325 Q80.0856,498.5075 81.3981,496.8513 Q82.7263,495.195 85.2263,495.195 Q85.9294,495.195 86.57,495.3513 Q87.2263,495.5075 87.7888,495.8044 L87.7888,498.5231 Q87.1638,497.945 86.57,497.6794 Q85.9763,497.3981 85.3513,497.3981 Q84.0075,497.3981 83.32,498.4763 Q82.6325,499.5388 82.6325,501.6325 Q82.6325,503.7263 83.32,504.8044 Q84.0075,505.8669 85.3513,505.8669 Q85.9763,505.8669 86.57,505.6013 Q87.1638,505.32 87.7888,504.7419 L87.7888,507.4606 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.8516" x="98.82" y="506.6667">GameController</text><line style="stroke:#181818;stroke-width:0.5;" x1="70.82" x2="211.6716" y1="517.82" y2="517.82"/><line style="stroke:#181818;stroke-width:0.5;" x1="70.82" x2="211.6716" y1="525.82" y2="525.82"/></g><!--class VClient--><g id="elem_VClient"><rect codeLine="30" fill="#F1F1F1" height="64.2969" id="VClient" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.1729" x="314.66" y="320.79"/><ellipse cx="388.9427" cy="336.79" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M391.9115,342.4306 Q391.3333,342.7275 390.6927,342.8681 Q390.0521,343.0244 389.349,343.0244 Q386.849,343.0244 385.5208,341.3837 Q384.2083,339.7275 384.2083,336.6025 Q384.2083,333.4775 385.5208,331.8212 Q386.849,330.165 389.349,330.165 Q390.0521,330.165 390.6927,330.3212 Q391.349,330.4775 391.9115,330.7744 L391.9115,333.4931 Q391.2865,332.915 390.6927,332.6494 Q390.099,332.3681 389.474,332.3681 Q388.1302,332.3681 387.4427,333.4462 Q386.7552,334.5087 386.7552,336.6025 Q386.7552,338.6962 387.4427,339.7744 Q388.1302,340.8369 389.474,340.8369 Q390.099,340.8369 390.6927,340.5712 Q391.2865,340.29 391.9115,339.7119 L391.9115,342.4306 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50.1074" x="409.4427" y="341.6367">VClient</text><line style="stroke:#181818;stroke-width:0.5;" x1="315.66" x2="520.8329" y1="352.79" y2="352.79"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="322.66" y="363.4384"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.1729" x="334.66" y="369.7851">ActiveSocket clientSocket</text><line style="stroke:#181818;stroke-width:0.5;" x1="315.66" x2="520.8329" y1="377.0869" y2="377.0869"/></g><!--class Receiver--><g id="elem_Receiver"><rect codeLine="34" fill="#F1F1F1" height="96.8906" id="Receiver" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="225.0693" x="276.71" y="461.38"/><ellipse cx="354.397" cy="477.38" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M357.3658,483.0206 Q356.7876,483.3175 356.147,483.4581 Q355.5064,483.6144 354.8033,483.6144 Q352.3033,483.6144 350.9751,481.9738 Q349.6626,480.3175 349.6626,477.1925 Q349.6626,474.0675 350.9751,472.4113 Q352.3033,470.755 354.8033,470.755 Q355.5064,470.755 356.147,470.9113 Q356.8033,471.0675 357.3658,471.3644 L357.3658,474.0831 Q356.7408,473.505 356.147,473.2394 Q355.5533,472.9581 354.9283,472.9581 Q353.5845,472.9581 352.897,474.0363 Q352.2095,475.0988 352.2095,477.1925 Q352.2095,479.2863 352.897,480.3644 Q353.5845,481.4269 354.9283,481.4269 Q355.5533,481.4269 356.147,481.1613 Q356.7408,480.88 357.3658,480.3019 L357.3658,483.0206 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.1953" x="374.897" y="482.2267">Receiver</text><line style="stroke:#181818;stroke-width:0.5;" x1="277.71" x2="500.7793" y1="493.38" y2="493.38"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="284.71" y="504.0284"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.0693" x="296.71" y="510.3751">ServerRecvProtocol protocol</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="284.71" y="520.3253"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176.9688" x="296.71" y="526.672">Queue* gameLoopQueue</text><line style="stroke:#181818;stroke-width:0.5;" x1="277.71" x2="500.7793" y1="533.9738" y2="533.9738"/><ellipse cx="287.71" cy="547.6222" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.4258" x="296.71" y="550.9689">run()</text></g><!--class Sender--><g id="elem_Sender"><rect codeLine="40" fill="#F1F1F1" height="96.8906" id="Sender" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="226.0059" x="537.24" y="461.38"/><ellipse cx="621.1785" cy="477.38" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M624.1472,483.0206 Q623.5691,483.3175 622.9285,483.4581 Q622.2879,483.6144 621.5847,483.6144 Q619.0847,483.6144 617.7566,481.9738 Q616.4441,480.3175 616.4441,477.1925 Q616.4441,474.0675 617.7566,472.4113 Q619.0847,470.755 621.5847,470.755 Q622.2879,470.755 622.9285,470.9113 Q623.5847,471.0675 624.1472,471.3644 L624.1472,474.0831 Q623.5222,473.505 622.9285,473.2394 Q622.3347,472.9581 621.7097,472.9581 Q620.366,472.9581 619.6785,474.0363 Q618.991,475.0988 618.991,477.1925 Q618.991,479.2863 619.6785,480.3644 Q620.366,481.4269 621.7097,481.4269 Q622.3347,481.4269 622.9285,481.1613 Q623.5222,480.88 624.1472,480.3019 L624.1472,483.0206 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49.6289" x="641.6785" y="482.2267">Sender</text><line style="stroke:#181818;stroke-width:0.5;" x1="538.24" x2="762.2459" y1="493.38" y2="493.38"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="545.24" y="504.0284"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.0059" x="557.24" y="510.3751">ServerSendProtocol protocol</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="545.24" y="520.3253"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.4707" x="557.24" y="526.672">Queue* senderQueue</text><line style="stroke:#181818;stroke-width:0.5;" x1="538.24" x2="762.2459" y1="533.9738" y2="533.9738"/><ellipse cx="548.24" cy="547.6222" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34.4258" x="557.24" y="550.9689">run()</text></g><!--reverse link Server to GameMap--><g id="link_Server_GameMap"><path codeLine="46" d="M249.157,63.9997 C232.127,82.0997 216,99.26 193.98,122.67 " fill="none" id="Server-backto-GameMap" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="257.38,55.26,250.3553,56.8888,249.157,63.9997,256.1817,62.3708,257.38,55.26" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Server to Acceptor--><g id="link_Server_Acceptor"><path codeLine="47" d="M309.5219,63.9724 C324.7519,80.0524 337.57,93.57 357.63,114.75 " fill="none" id="Server-backto-Acceptor" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="301.27,55.26,302.4918,62.3668,309.5219,63.9724,308.3001,56.8656,301.27,55.26" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link GameMap to GameLoop--><g id="link_GameMap_GameLoop"><path codeLine="48" d="M141.25,248.8 C141.25,270.54 141.25,283.19 141.25,304.08 " fill="none" id="GameMap-backto-GameLoop" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="141.25,236.8,137.25,242.8,141.25,248.8,145.25,242.8,141.25,236.8" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link GameLoop to GameController--><g id="link_GameLoop_GameController"><path codeLine="49" d="M141.25,413.67 C141.25,441.58 141.25,463.56 141.25,485.67 " fill="none" id="GameLoop-backto-GameController" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="141.25,401.67,137.25,407.67,141.25,413.67,145.25,407.67,141.25,401.67" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link Acceptor to VClient--><g id="link_Acceptor_VClient"><path codeLine="50" d="M418.25,256.98 C418.25,282.78 418.25,299.36 418.25,320.47 " fill="none" id="Acceptor-backto-VClient" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="418.25,244.98,414.25,250.98,418.25,256.98,422.25,250.98,418.25,244.98" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link VClient to Receiver--><g id="link_VClient_Receiver"><path codeLine="51" d="M410.1718,397.0751 C406.1018,418.8151 402.81,436.39 398.19,461.04 " fill="none" id="VClient-backto-Receiver" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="412.38,385.28,407.3442,390.4415,410.1718,397.0751,415.2076,391.9136,412.38,385.28" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link VClient to Sender--><g id="link_VClient_Sender"><path codeLine="52" d="M475.4522,392.1299 C508.0522,413.8799 541.99,436.55 578.84,461.15 " fill="none" id="VClient-backto-Sender" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="465.47,385.47,468.2411,392.1274,475.4522,392.1299,472.6811,385.4726,465.47,385.47" style="stroke:#181818;stroke-width:1;"/></g><!--SRC=[XL9DIyGm4BtdLyn9TDt-WwMmL11a1Ts2zvYEKZQRX6JQY_ZVpNTRFTXBPrwIUU_DZ93SEUZHpcZXYtqp9YBooA_up8s7m7yDNBavZ8hsyU2ajMdXCqSkNhc79psgdd_WxLq6UkAMDaXdaHDcg78TXK13sbQoJ7uJANoGOJawEhnrSaH5BOZuB-HsKfNbZDmy81yoqC39FqI5jjVYWkIzUA4n31hMZeEThULX3wyJJhXhmQ4QqCRiBsi3xrRpGN17QskXQASLMItbji7PHsKx2Xfdp0gJjqLZUd96WMEQKvCcvf7vnMhIGaimESW5a-mwfPXkPDUwVJIsL0tvFrLNlVXTC-_IhgbpN4DbrgmiMBaNDB8wWu8klMDrIy9PxXuhNGnOQSy6JDv-0000]--></g></svg>